<!--
    MCQuick- Solve MCQ
    Copyright (C) 2014  Agnibho Mondal
    
    This file is part of MCQuick.

    MCQuick is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    MCQuick is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with MCQuick.  If not, see <http://www.gnu.org/licenses/>.
-->
<!DOCTYPE html>
<html>
	<head>
		<title>MCQuick</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
		<link href="css/custom.css" rel="stylesheet">
		<script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
		<script src="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
		<script src="js/tv4.min.js"></script>
		<script src="js/schema.js"></script>
		<script src="js/script.js"></script>
	</head>
	<body>
		<div class="container">
			<div class="text-primary">
				<div class="jumbotron">
					<h1>MCQuick</h1>
					<h2>Solve MCQs and check...</h2>
				</div>
			</div>
			<div id="checkJS" class="alert alert-warning"><h2>Please Enable Javascript</h2></div>
			<div id="content" style="display:none">
				<div id="initial" class="row">
					<form class="form-horizontal">
						<div class="form-group">
							<label for="total" class="control-label col-sm-6">Enter total number of MCQ to solve:</label>
							<div class="col-sm-2">
								<input type="text" class="form-control" id="total" value="2"/>
							</div>
						</div>
						<div class="form-group">
							<label for="index" class="control-label col-sm-6">Enter first index of questions:</label>
							<div class="col-sm-2">
								<input type="text" class="form-control" id="index" value="1"/>
							</div>
						</div>
						<div class="form-group">
							<div class="col-sm-offset-6 col-sm-6">
								<div class="checkbox">
									<label>
										<input type="checkbox" id="multi"/>Allow multiple answers
									</label>
								</div>
							</div>
						</div>
						<div class="form-group">
							<label for="option" class="control-label col-sm-6">Number of choices:</label>
							<div class="col-sm-2">
								<select id="option" class="form-control"><option value="4">4</option><option value="5">5</option></select><br>
							</div>
						</div>
						<div class="form-group">
							<label for="option" class="control-label col-sm-6">Negative markings:</label>
							<div class="col-sm-2">
								<select id="neg" class="form-control"><option value="0">None</option><option value="25">25%</option><option value="33">33%</option></select><br>
							</div>
						</div>
						<div class="form-group">
							<div class="col-sm-offset-6 col-sm-6">
								<div class="checkbox">
									<label>
										<input type="checkbox" id="timer">Show a Watch
									</label>
								</div>
							</div>
						</div>
						<div class="form-group">
							<div class="col-sm-offset-6 col-sm-6">
								<div class="checkbox">
									<label>
										<input type="checkbox" id="limiter">Limit Time
									</label>
								</div>
							</div>
						</div>
						<div class="form-group">
							<div class="col-sm-offset-6 col-sm-3">
								<div class="col-sm-4"><input type="text" class="form-control" id="lim-h" placeholder="hh"/></div>
								<div class="col-sm-4"><input type="text" class="form-control" id="lim-m" placeholder="mm"/></div>
								<div class="col-sm-4"><input type="text" class="form-control" id="lim-s" placeholder="ss"/></div>
							</div>
						</div>
						<button type="button" id="start" class="btn btn-success btn-lg col-sm-offset-5">Start Solving</button>
						<hr>
						<div class=" col-sm-offset-3 col-sm-6">
							<div class="panel panel-info">
								<div class="panel-heading">Load MCQ from file</div>
								<div class="panel-body">
									<div class="col-sm-offset-3">
										<input type="file" id="file">
									</div>
									<button type="button" id="load" class="btn btn-success col-sm-offset-5">Load MCQ</button>
								</div>
							</div>
						</div>
					</form>
				</div>
				<div id="final" style="display:none">
					<table class="table table-striped table-bordered">
						<tr>
							<th>Total Questions</th>
							<td id="totalq"></td>
						</tr>
						<tr>
							<th>Correct Answers</th>
							<td id="right"></td>
						</tr>
						<tr>
							<th>Wrong Answers</th>
							<td id="wrong"></td>
						</tr>
						<tr>
							<th>Unattempted Questions</th>
							<td id="unattempted"></td>
						</tr>
						<tr>
							<th>Incomplete Answers</th>
							<td id="incomplete"></td>
						</tr>
						<tr>
							<th>Unknown Answers</th>
							<td id="unknown"></td>
						</tr>
						<tr>
							<th>Percentage Marks</th>
							<td id="percent"></td>
						</tr>
						<tr>
							<th>Time</th>
							<td id="time"></td>
						</tr>
					</table>
					<button type="button" id="restart" class="btn btn-success btn-lg col-sm-offset-5">Solve Another</button>
				</div>
				<div id="display">
				</div>
				<h3 id="watch" style="display:none;" draggable="true" ondragstart="drag(event)" class="alert alert-info">00:00:00</h3>
				<script>
					function allowDrop(ev){
						ev.stopPropagation();
						ev.preventDefault();
					}
					function drag(ev){
						var style=window.getComputedStyle(ev.target, null);
						ev.dataTransfer.setData("text/plain",ev.target.id+','+(parseInt(style.getPropertyValue("left"),10)-ev.clientX)+','+(parseInt(style.getPropertyValue("top"),10)-ev.clientY));
					}
					function drop(ev){
						ev.stopPropagation();
						ev.preventDefault();
						var data=ev.dataTransfer.getData("text/plain").split(',');
						if(data[0]=="watch"){
							var w=$("#watch")[0];
							w.style.left=(ev.clientX+parseInt(data[1],10))+'px';
							w.style.top=(ev.clientY+parseInt(data[2],10))+'px';
						}
						else{
							openFile(ev.dataTransfer);
						}
					}
					var dropZone=$("body")[0];
					dropZone.addEventListener('dragover', allowDrop, false);
					dropZone.addEventListener('drop', drop, false);
				</script>
				<div id="limit" style="display:none;" class="alert alert-warning">
					<h4 id="showLimit">Time Limit- 00:00:00</h4>
					<button type="button" id="removeLimit" class="btn btn-sm btn-warning">Remove</button>
				</div>
			</div>
			<script>
				$("#checkJS").hide();
				$("#content").fadeIn(1000);
			</script>
			<div id="alert" class="col-sm-offset-3 col-sm-6"></div>
			<div class="alert alert-info">
				<h3>Copyright &copy; 2014 Agnibho Mondal</h1>
				<h3><a href="http://www.agnibho.com" style="text-decoration:none;color:inherit">www.agnibho.com</a></h3>
				<h4>Licensed under <a href="http://www.gnu.org/licenses/" style="text-decoration:none;color:inherit">GNU GPL v3</a></h4>
			</div>
		</div>
	</body>
</html>